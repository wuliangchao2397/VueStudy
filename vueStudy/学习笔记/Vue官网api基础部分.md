# Vue官网api——基础

## 1、创建vue实例

* 创建Vue（）实例，通常用vm命名，而且结构与对象相似

## 2、数据与方法

* 创建数据变量或是对象，可以将其赋予vm内部变量，注意三种情况
  * vm变动时，其引用来源的原数据也会改变
  * 但如果vm新建一个原先原数据对象不存在的变量，不会影响原数据
  * 将原对象数据通过Object.freeze()可以将其冻结，这样vm的变动无法影响到它

## 3、生命周期钩子

* 用于不同阶段添加代码：
  * created：用在实例创建之后
  * mounted：通过元素id构建vm实例后
  * updated：数据发生变动后
  * destoryed：拆除分析工具，元件或是事件监听器后
  * ![Vue 实例生命周期](https://cn.vuejs.org/images/lifecycle.png)

## 4、模板语法

* 插值
  * 文本
    * 常见方法是使用mustache语法，大写双括号包含对应属性名
    * 标签上添加v-once指令可以执行一次性插值
  * 原始HTML
    * 使用v-html指令，对应的内容会被直接当成HTML执行
    * 注意不要用来做复合模块
    * 非常容易被XSS攻击，只可以对可信内容使用，面向用户绝对不能使用HTML插值
  * Attribute
    * mustache不能作用于HTML attribute上，需要使用v-bind指令
  * JavaScript表达式
    * 可以直接对property绑定
    * 但mustache也是提供了JavaScript的环境的，可以直接编写表达式但也会立即输出，每一行用大写双括号包含，但要注意，只能执行表达式，语句无法实现，流控制（if语句）也无法实现，一般只适用于简单逻辑
* 指令
  * 指代带有v-前缀的特殊attribute，注意：v-for是特殊情况
  * v-if根据seen的真假来判断
  * 参数：v-bind来响应式更新HTML的attribute
  * 动态参数：2.6版本开始，可以动态更新参数，通过v-bind:[]
  * 修饰符：.prevent修饰符调用会返回数据给指令v-on，v-on和v-for多有这方面的技巧

* 缩写

  * 在构建由 Vue 管理所有模板的[单页面应用程序 (SPA - single page application)](https://en.wikipedia.org/wiki/Single-page_application) 时，`v-` 前缀也变得没那么重要了。为v-bind和v-on有两个常见的指令提供了缩写

  * v-bind的缩写：

    ``` htm
    <!-- 完整语法 -->
    <a v-bind:href="url">...</a>
    
    <!-- 缩写 -->
    <a :href="url">...</a>
    
    <!-- 动态参数的缩写 (2.6.0+) -->
    <a :[key]="url"> ... </a>
    ```

    

  * v-on的缩写：

    ``` html
    <!-- 完整语法 -->
    <a v-on:click="doSomething">...</a>
    
    <!-- 缩写 -->
    <a @click="doSomething">...</a>
    
    <!-- 动态参数的缩写 (2.6.0+) -->
    <a @[event]="doSomething"> ... </a>
    ```

    

## 5、计算属性和侦听器

* 计算属性
  * 适用于复杂逻辑，设置在computed内
  * 在组件内设置方法同样可以实现同样的效果，与计算属性对比，方法需要在取用时使用data的getter，而计算属性则会在一开始时就产生缓存，避免了反复的取用getter，特别是面对复杂运算的getter很有效，如果不希望存在缓存，就选用方法处理。方法存放在methods里
  * 也可以通过侦听属性存放在watch内，但和计算属性相比，侦听属性需要重复覆盖的编写，反而比计算属性复杂
  * 计算属性computed内部的属性是默认具备getter的，没有setter，需要的时候是要自己设置的，设置之后才可以执行赋值操作
* 侦听器
  * 大多时候使用计算属性，有时用自定义的watch会更加有效

## 6、Class和Style绑定

* 通过v-bind来对attribute进行设置，针对class和style都有优化
* 绑定HTML class
  * 对象语法：传给v-bind一个对象，就可以动态更新class。这个对象不一定要在模组内，可以放在计算属性内
  * 数组语法：通过数组形式将多个class组合传递给v-bind，也可以三元表达式选择
  * 对组件：
* 联系内联样式：
  * 对象语法：css样式每条语句全部存放在一个对象内，结构上和class相似，其实一个对象就相当于一个完整的样式
  * 数组语法：多个样式组合，和class一样
  * 自动添加前缀：会自动根据对应的浏览器引擎前缀
  * 多重值：2.3版本起，可以对一个样式语句赋予一个数组[]，存放多种样式，浏览器会自动选择最后一个适配的样式使用

## 7、条件渲染

* v-if
  * 当if传递的模组数据为真时，展示标签
  * 可以和v-else以及v-else-if搭配使用
  * key管理可复用的元素：不会重复获取已经加载过一遍的数据，而是通过缓存再取用，这些数据则是通过key来管理
* v-show同样是根据条件展示元素，不同的是v-show的元素会始终保留在DOM中，而且不能对<template>使用，也不支持v-else
* 注意v-if和v-show的区别，v-if是真的条件渲染，不达成条件什么都不做，而v-show则是照常渲染，只是切换了css
* v-if和v-for放在一起时，v-for优先级更高，一般情况不要一起使用

## 8、列表渲染

* v-for对数组使用，遍历数组内部所有内容
* v-for对对象使用，会自动遍历全部property
* 维护模式：当数据顺序变动，列表渲染会直接在原来的位置更新，不会跟随变动
* 数组更新检测：
  * 变更方法：包裹了数组变更的方法（测试未成功）
  * 替换数组：变更方法不会对原数组造成影响，非变更方法会对数组造成影响
  * 注意：Vue不能检测数组和对象的变化

## 9、事件渲染

* 通过v-on监听事件，可以直接后跟简单JavaScript表达式，又或者是引用JavaScript部分编写的模组内容的方法
* 为了能够处理一部分的内置DOM，可以通过$event引用，将其传入方法
* v-on还有几个对应的事件修饰符和按键修饰符

## 10、表达输入绑定

* 通过v-model指令进行绑定，特点是双向绑定
* v-model不止可以接受单个数据，还可以接收多组数据存放在数组内部，设置接收多个数据的模组时，要用数组接数据

## 11、组件

* 可复用的vue实例
* 使用Vue.component()来创建，内部变量可以内部自身套用，通过props自设title名，template设置模板，多种标签组合使用时，用div包含起来
* 