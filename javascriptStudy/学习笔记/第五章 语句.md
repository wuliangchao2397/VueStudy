# 第五章 语句

## 1.表达式语句

* 赋值，自增自减，delete，客户端函数，Math（），算是比较常用的

## 2.复合语句和空语句

* 用逗号将多条表达式连接，用花括号将多条语句联合，形成复合语句
* 语句块：
  * 不需要分号
  * 行都有缩进，不是必须的，但是可以提高可读性
  * 没有块级作用域，在语句块中声明的变量并不是语句块私有的
* 空语句多用于空循环体

## 3.声明语句

* 概念

  var声明变量，function声明函数。

* 1.var

  * 可以以列表形式赋值
  * 函数体内，声明的是局部变量
  * 没有初始化表达式，默认undefined
  * 可以重复声明同一变量，重复时，与赋值无异

* 2.function

  * 语句数量不限，但需要用花括号括起来
  * 函数声明语句往往出现在代码最顶层和内部嵌套
  * 函数声明语句和函数定义表达式是不同的

## 4.条件语句

* 概念：语句执行路径的分支
* 1.if语句
  * if条件为真执行本条分支
  * 语句有两种类型：第一种是简单表达式写入圆括号，第二种是比较表达式
  * if和else的匹配是就近原则
* 2.else if
  * 形成多条分支，与c++语法相似，没有什么区别
* 3.switch
  * 规则与c++语法相似，但值得注意的是，这里的case语句判别是“===”，所以表达式和case的匹配是不会自行转换数据类型的，需要注意。

## 5.循环

* 概念
  * 程序路径的一个回路，重复执行一段代码
  * 共有四种循环语句
* 1.while
  * 同if语句，满足条件进入回路，内部最好有对条件变量造成影响的语句，否则无法自行终止循环
* 2.do while
  * 回路循环体至少执行一次，对调了循环体和循环条件的位置而已
* 3.for
  * 需要三个操作数作为循环标识，实际效用可以和while相互转换，一般用于指定次数的循环
* 4.for in
  * for（variable in object）结构，variable是一个变量名，也可以是产生左值的表达式，必须要是一个适用于赋值表达式左侧的值。
  * for in能够更好的遍历对象属性成员
  * 解释器会先计算对象表达式，如果表达式为null或者undefined，就会跳过循环
  * 属性枚举的顺序：
    * 没有规定for/in按照什么规律来枚举对象属性
    * 根据定义的先后顺序来枚举对象的属性
    * 如果对象属性继承自多个原型，也就是原型链上存在多个对象，那么就是依照特定顺序执行的

## 6.跳转

* 概念
  * 执行位置从一个位置跳转到另一个位置
  * break是跳出当前循环或者跳转至语句的结束处，continue是结束本次循环进入下一次
* 1、标签语句
  * 通过语句前的标识符和冒号组成，通过这个标签，任何地方都可以通过这个标签引用这个语句
  * 用作标签的标识符必须是合法的，不能是保留字
* 2、break
  * 立即退出循环或者switch语句
  * 后方可以跟标签语句，代表着这个标签标识着的语句块的结束。两者之间不可以有换行符
  * 无论break带不带标识符，都无法越过函数的边界
* 3、continue
  * 语法与break相似，但不是退出循环，而是仅仅结束一次循环
  * 不同循环中效果不同
    * while，从循环开始处指定的表达式会被重复检测，检测结果为true时，从头开始
    * do while，当前执行循环直接跳到尾部，判断一次条件决定是否继续循环
    * for，首先计算自增表达式，然后再次检测test表达式，用来判断是否执行循环体
    * for in，循环开始遍历下一个属性名，这个属性名赋给了指定的变量
* 4、return语句
  * 指定函数调用后的返回值
  * 只能在函数体中出现
  * 如果没有return语句，调用返回值则会是undefined
  * return并不是必须出现在函数最后
* 5、throw语句
  * 异常（exception）是当发生异常情况或错误时产生的一个信号
  * 捕获异常是指处理这个信号，即采取必要的手段从异常中恢复
  * 产生错误时使用throw抛出异常，try/catch/finally捕获异常
  * throw后跟随表达式，一般是Error对象
  * 异常处理程序是用try/catch/finally中的catch部分编写的
* 6、try/catch/finally
  * 异常处理机制
  * try定义需要处理的异常所在代码块
  * catch跟随在try之后，当发生异常时使用catch内的代码逻辑
  * finally跟随catch之后，不管try是否出现异常，这一块总是会执行，通常在try之后用于清理工作

## 7.其他语句类型

* 1、with语句
  * 用于扩展临时作用域链，将指定对象临时加到作用域链的头部，本次statement使用结束后复原
  * 严格模式禁止使用with，非严格模式也不推荐使用。使用了with语句的代码非常难优化，并且速度比未使用还要慢
  * 当表单某一属性被反复取用，就可以将其用with语句提到作用域链顶部，减少大量输入。但不用with，将相对应的对象属性表达式存入变量也是可以达到相同效果的
* 2、debugger语句
  * debugger通常什么也不做，配合调试程序可以形成断点
* 3、“use strict”语句
  * 这个指令的作用是这句话之后的代码都会被解析成严格代码
  * 如果eval（）调用的代码使用了“use strict“，或者内部要求执行的字符串使用了”strict code“指令，那么内部就是严格代码
  * 严格模式下需要注意的事项：
    * 禁用with
    * 所有变量都需要事先声明
    * 调用函数中的this是undefined，非严格模式是全局变量，可以用来判别是否是严格模式
    * call和apply调用函数时，其中this的值就是通过call和apply传入的第一个参数，非严格模式会被全局变量和转换成对象的非对象值所替代
    * 只读属性和不可拓展的对象创建新成员都将抛出一个类型错误异常
    * eval不可以调用上下文声明的变量或者定义函数
    * 函数arguments对象拥有传入函数值的静态副本
    * delete如果后跟非法标识符会抛出语法错误异常

