# 第七章 数组

## 概念

* 值的有序集合
* JavaScript数组是无类型的，数组元素可以是任何类型
* 继承自Array.prototype中的属性

## 1、创建数组

* 使用数组直接量创建数组，其中的值不一定是常量，也可以是任意表达式，可以包含对象直接量

* 构造函数Array（）是创建数组的另一个方法，共三种格式：

  ``` javascript
  var a = new Array();//不含参
  var a = new Array(10);//指定长度
  var a = new Array(5,4,3,2,1,"testing,testing");//指定两个或多个数组元素
  ```

  

## 2、数组元素的读和写

* 通过[]操作符来访问数组中的一个元素，数组的引用位在括号左侧，括号内部是返回非负整数值的任意表达式
* 数组是对象的特殊形式，使用方括号访问数组元素就像方括号访问对象的属性一样，只是数组的索引值固定为有序的非负整数
* 数组的特别之处在于，当使用小于2^32的非负整数作为属性名时数组会自动维护其length的值
* 如果输入负数，因为不是非负整数，负数会被当做普通对象的属性名看待，或查找或创建
* 可以从原型中继承元素，可以定义元素的setter和getter方法

## 3、稀疏数组

* 包含从0开始的不连续索引的数组，稀疏数组的length大于元素的个数
* 创建稀疏数组：
  * 通过Array（）设定索引值大于当前的数组长度，但估计和环境有关，不管直接量还是Array（）方法直接创造出来的都是无元素，并不能通过in来找未赋值的属性名
  * 直接设定空数组
  * 赋值添加一个大于1的数，形成长度length大于元素个数
  * delete操作符来产生稀疏数组
* 稀疏数组在实现上比稠密数组更慢，内存利用效率更高，在这样的数组查找元素的时间与常规对象属性的查找时间一样长
* 数组直接量中，省略值不会创建稀疏数组，为undefined，和数组元素根本不存在并不一样

## 4、数组长度

* 每个数组都有一个length属性，针对非稀疏数组，length就是数组中元素的个数，其值比最大索引大1
* length的变化如果小于了元素个数，会自动删除数组元素

## 5、数组元素的添加和删除

* 添加数组元素可以通过索引赋值，可以通过push（）推入，push（）可以推入单个也可以推入多个
* 删除元素可以和对象一样通过delete删除
* pop（）方法可以删除尾部的元素，同时返回被删除的元素的值。
* shift（）从数组头部删除一个元素，同时将所有元素下移到比当前索引低1的地方

## 6、数组遍历

* for循环遍历，值得注意的是，并非所有元素都是合法数据，如果需要，可使用非空的条件语句跳过null，跳过undefined用恒等判断比较保险，仅仅只是处理不存在的元素的话可以用in来区别
* for/in循环，处理稀疏数组会自动略过不存在的索引。允许以不同的顺序遍历属性，但如果算法对遍历有依赖，最好还是使用for
* forEach（）方法，可以遍历每个元素，并传递给内部函数

## 7、多维数组

* 并不是支持真正的多维数组，只是做了近似效果
* 访问时很简单，两次[]分别表示行与列。创建时需要先创建一组数组对象，对这个对象数组再通过for循环依次对每一个元素进行一次数组对象创建操作，赋予每个元素数组。本质其实就是对象嵌套模拟多维数组。

## 8、数组方法

* 

## 9、ECMAScript5中的数组方法

## 10、数组类型

## 11、类数组对象

## 12、作为数组的字符串

